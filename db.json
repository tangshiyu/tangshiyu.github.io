{"meta":{"version":1,"warehouse":"3.0.2"},"models":{"Asset":[{"_id":"themes/pure/source/css/navy.styl","path":"css/navy.styl","modified":0,"renderable":1},{"_id":"themes/pure/source/fonts/README.md","path":"fonts/README.md","modified":0,"renderable":1},{"_id":"themes/pure/source/fonts/iconfont.eot","path":"fonts/iconfont.eot","modified":0,"renderable":1},{"_id":"themes/pure/source/fonts/iconfont.ttf","path":"fonts/iconfont.ttf","modified":0,"renderable":1},{"_id":"themes/pure/source/fonts/iconfont.woff","path":"fonts/iconfont.woff","modified":0,"renderable":1},{"_id":"themes/pure/source/images/thumb-default.png","path":"images/thumb-default.png","modified":0,"renderable":1},{"_id":"themes/pure/source/images/xingqiu-qrcode.jpg","path":"images/xingqiu-qrcode.jpg","modified":0,"renderable":1},{"_id":"themes/pure/source/js/application.js","path":"js/application.js","modified":0,"renderable":1},{"_id":"themes/pure/source/js/application.min.js","path":"js/application.min.js","modified":0,"renderable":1},{"_id":"themes/pure/source/js/insight.js","path":"js/insight.js","modified":0,"renderable":1},{"_id":"themes/pure/source/js/lang_select.js","path":"js/lang_select.js","modified":0,"renderable":1},{"_id":"themes/pure/source/js/mobile_nav.js","path":"js/mobile_nav.js","modified":0,"renderable":1},{"_id":"themes/pure/source/js/toc.js","path":"js/toc.js","modified":0,"renderable":1},{"_id":"themes/pure/source/favicon.png","path":"favicon.png","modified":0,"renderable":1},{"_id":"themes/pure/source/images/avatar.jpg","path":"images/avatar.jpg","modified":0,"renderable":1},{"_id":"themes/pure/source/images/wechat.jpg","path":"images/wechat.jpg","modified":0,"renderable":1},{"_id":"themes/pure/source/js/jquery.min.js","path":"js/jquery.min.js","modified":0,"renderable":1},{"_id":"themes/pure/source/js/plugin.min.js","path":"js/plugin.min.js","modified":0,"renderable":1},{"_id":"themes/pure/source/css/style.css","path":"css/style.css","modified":0,"renderable":1},{"_id":"themes/pure/source/css/style.min.css","path":"css/style.min.css","modified":0,"renderable":1},{"_id":"themes/pure/source/fonts/iconfont.svg","path":"fonts/iconfont.svg","modified":0,"renderable":1},{"_id":"themes/pure/source/images/donate/alipayimg.jpg","path":"images/donate/alipayimg.jpg","modified":0,"renderable":1},{"_id":"themes/pure/source/images/donate/wechatpayimg.jpg","path":"images/donate/wechatpayimg.jpg","modified":0,"renderable":1},{"_id":"themes/pure/source/images/link/SzsFox-logo.png","path":"images/link/SzsFox-logo.png","modified":0,"renderable":1},{"_id":"themes/pure/source/images/link/chuangzaoshi-logo.png","path":"images/link/chuangzaoshi-logo.png","modified":0,"renderable":1},{"_id":"themes/pure/source/images/link/idesign-logo.png","path":"images/link/idesign-logo.png","modified":0,"renderable":1},{"_id":"themes/pure/source/js/plugin.js","path":"js/plugin.js","modified":0,"renderable":1},{"_id":"themes/pure/source/js/plugin.js.map","path":"js/plugin.js.map","modified":0,"renderable":1},{"_id":"themes/pure/source/images/logo.png","path":"images/logo.png","modified":0,"renderable":1}],"Cache":[{"_id":"themes/pure/.gitignore","hash":"0b1d6c9b7dbd00db8fbdfebd2cea97adb652c6b2","modified":1581333445283},{"_id":"themes/pure/LICENSE","hash":"82ce1e15ddeabeaaca60e2186b5a3ce42b1a9c49","modified":1581333445283},{"_id":"themes/pure/README.cn.md","hash":"4bbb637c3f69b6b7f7f0dabf8f9f23fb8dbf78ae","modified":1581333445284},{"_id":"themes/pure/README.md","hash":"94fe451bf920cec6152e7bf9cbff4ccf0af0febc","modified":1581333445285},{"_id":"themes/pure/_config.yml","hash":"c2da5ff92d18b90ba9a922e1fd587f004fdd428e","modified":1581658645089},{"_id":"themes/pure/_config.yml.example","hash":"a3b55d01598967db40da6f740b38cdba4f17d7bc","modified":1581333445286},{"_id":"themes/pure/package.json","hash":"d5bad0f074925c46e8ee5a75d385346d2fcea850","modified":1581333445337},{"_id":"source/about/index.md","hash":"d0d94a84d16113a82d9078e2ca276a01cb7bbc14","modified":1581333445289},{"_id":"source/categories/index.md","hash":"239532b397d864c88e3607c5548e4c38d39c431a","modified":1581388153170},{"_id":"source/tags/index.md","hash":"d9b575768e266c6edcc31399bd08c4509963f720","modified":1581388814244},{"_id":"themes/pure/languages/de.yml","hash":"72e530d418d69d8640682861a4f91e39635dc288","modified":1581399796559},{"_id":"themes/pure/languages/default.yml","hash":"167ea0db98f4db156ea68c4644f64c0287ae2b6f","modified":1564658232000},{"_id":"themes/pure/languages/en.yml","hash":"167ea0db98f4db156ea68c4644f64c0287ae2b6f","modified":1564658232000},{"_id":"themes/pure/languages/ko.yml","hash":"a856f77555043a727f9a8f34e7106fabbdd80584","modified":1581399796562},{"_id":"themes/pure/languages/pt-br.yml","hash":"bd5f9196d027223e2d1daff96fb0c9ae0d008268","modified":1581399796564},{"_id":"themes/pure/languages/ru.yml","hash":"649177243b6f8c3a8f913994889357cbee13263b","modified":1581399796565},{"_id":"themes/pure/languages/zh-CN.yml","hash":"057ebc043f09449af9768791c89c86dfc2938365","modified":1564658232000},{"_id":"themes/pure/languages/zh-TW.yml","hash":"6d27c3114be539b8783ffce944f68b2e26a8c3b9","modified":1564658232000},{"_id":"themes/pure/layout/about.ejs","hash":"4b64515ccc801cc9eba637a1e1909c6c4dd203f6","modified":1581333445331},{"_id":"themes/pure/layout/archive.ejs","hash":"90fa5b0d8f081d0bde33b2784f66e6a80e5b0dac","modified":1581333445333},{"_id":"themes/pure/layout/books.ejs","hash":"75cbd31d3551c730e8a683bd5b08562881a95b51","modified":1581333445333},{"_id":"themes/pure/layout/categories.ejs","hash":"9cc7b5f5af40fd7ec641bf0f5a5f8f1ce1ac22d5","modified":1581333445334},{"_id":"themes/pure/layout/category.ejs","hash":"b3f7a96fbaf201a65ed64d509edc29976542fbfb","modified":1581333445334},{"_id":"themes/pure/layout/index.ejs","hash":"44418dbf1fb82392b8e1e4cc910d16a383190433","modified":1581333445335},{"_id":"themes/pure/layout/layout.ejs","hash":"629594c3ec80c1fd1ccd5068628907622812cf38","modified":1581333445335},{"_id":"themes/pure/layout/links.ejs","hash":"ee90a5f2a9d19bc02682ea3a59177b947f7f7284","modified":1581333445336},{"_id":"themes/pure/layout/page.ejs","hash":"fbfed3c882059e757b23ff57924400683631594b","modified":1581333445336},{"_id":"themes/pure/layout/post.ejs","hash":"fbfed3c882059e757b23ff57924400683631594b","modified":1581333445336},{"_id":"themes/pure/layout/repository.ejs","hash":"0ecad33b6c1ec741eb3b02bb47a3824ac3749d09","modified":1581333445337},{"_id":"themes/pure/layout/tag.ejs","hash":"30d8ddd84c9aa87dff1be02af308097cf4e72448","modified":1581333445337},{"_id":"themes/pure/layout/tags.ejs","hash":"76bc71f3dfd8a5b1aa14b09dec7b460b14f5028a","modified":1581333445337},{"_id":"themes/pure/scripts/thumbnail.js","hash":"4a7385e533f3567758bc995a8be5eb3e7839ac9c","modified":1581333445361},{"_id":"themes/pure/_source/404/index.md","hash":"2ba9de4be20811ede02e6ae253fcd861e70237e5","modified":1581333445288},{"_id":"themes/pure/_source/_data/gallery.yml","hash":"eef9b025c2a81fdc714967d0c7b21bed9d55cff5","modified":1581333445288},{"_id":"themes/pure/_source/_data/links.yml","hash":"d821cbdec2f068a4ea046d434f8b693574284e38","modified":1581333445289},{"_id":"themes/pure/_source/about/index.md","hash":"d0d94a84d16113a82d9078e2ca276a01cb7bbc14","modified":1581333445289},{"_id":"themes/pure/_source/books/index.md","hash":"d913d58987f539ac2ca4cca366ebf42f8b1a03d1","modified":1581333445290},{"_id":"themes/pure/_source/categories/index.md","hash":"6f0fb48ff0553cfaa325b65e54bf8c73c138a22d","modified":1581333445290},{"_id":"themes/pure/_source/links/index.md","hash":"d768332d0d322fe39267dbbda05b931488c27d7e","modified":1581333445291},{"_id":"themes/pure/_source/repository/index.md","hash":"bf2bec13066d7d53fc05a334876eb482e6f95825","modified":1581333445291},{"_id":"themes/pure/_source/tags/index.md","hash":"c35ba8af5acf41102909a9f9c1349a24d89f97a6","modified":1581333445292},{"_id":"themes/pure/layout/_common/footer.ejs","hash":"dc84744cb59142d8a4b1d9195ecbbae97cb111f0","modified":1581340376410},{"_id":"themes/pure/layout/_common/head.ejs","hash":"4135b80c40cc970f9dc30fdd02e4f3e0a8b0af67","modified":1581333445298},{"_id":"themes/pure/layout/_common/header.ejs","hash":"c05070274965692a270c7e07ad9f4dad6f2c5888","modified":1581333445299},{"_id":"themes/pure/layout/_common/script.ejs","hash":"3045da0c1979946694b628fbef39c01cc98b6e75","modified":1581333445299},{"_id":"themes/pure/layout/_common/social.ejs","hash":"2bcdc7b0ee3905e724b01c2efa1ca6b47a846e1f","modified":1581333445299},{"_id":"themes/pure/layout/_partial/archive-book.ejs","hash":"944913dcabd09c10d3014c844abf851f4dfdba8d","modified":1581333445300},{"_id":"themes/pure/layout/_partial/archive-category.ejs","hash":"4be88eec64fd40c7e1b74df8ccb6c8cdfa3e7a17","modified":1581333445301},{"_id":"themes/pure/layout/_partial/archive-link.ejs","hash":"a8a387f9e7289a6524cf46d7ab76c34fff37f4bf","modified":1581333445301},{"_id":"themes/pure/layout/_partial/archive-list.ejs","hash":"e4810f8e03986d5a8afdf4c0932814a3d0db9ffe","modified":1581333445301},{"_id":"themes/pure/layout/_partial/archive-post.ejs","hash":"14012abbdfe0bc8636a6f1ee434f80c4709d5104","modified":1581386326227},{"_id":"themes/pure/layout/_partial/archive-repository.ejs","hash":"6408e37ec1a8ee868cf36d5b0e020d5d97ea2f27","modified":1581333445303},{"_id":"themes/pure/layout/_partial/archive-tag.ejs","hash":"db8cba32bf6655a8d21fe8c8ccd0695b049e1d4c","modified":1581333445303},{"_id":"themes/pure/layout/_partial/archive.ejs","hash":"b934b2d9f1ddde1d92910e0f23151be609deac95","modified":1581333445303},{"_id":"themes/pure/layout/_partial/article-about.ejs","hash":"47bbb53fe9cca05928c45782c6897c8a94d597ff","modified":1581333445304},{"_id":"themes/pure/layout/_partial/article.ejs","hash":"4feb44b3d6b6b2bae238cfd944bdf65c9ae00213","modified":1581386363611},{"_id":"themes/pure/layout/_partial/item-post.ejs","hash":"fdc5ac554e375f2e8b1e4dbe77cedda692f1228e","modified":1581333445305},{"_id":"themes/pure/layout/_partial/pagination.ejs","hash":"f5e63fc8a30679822c7620b4a788be5fde441a9f","modified":1581333445306},{"_id":"themes/pure/layout/_partial/sidebar-about.ejs","hash":"be30d7eb0b391759ac329b8a7b410d758ff8b032","modified":1581333445312},{"_id":"themes/pure/layout/_partial/sidebar-toc.ejs","hash":"335a906404dada013d83508244e992c7a26fa879","modified":1581333445314},{"_id":"themes/pure/layout/_partial/sidebar.ejs","hash":"a6662f79f7fd6f1cc9b5180672ba8e1d0192fbe2","modified":1581333445314},{"_id":"themes/pure/layout/_script/analytics.ejs","hash":"db2967c6902ceb67caa70364935ef3441b10432f","modified":1581333445320},{"_id":"themes/pure/layout/_script/comment.ejs","hash":"d5c98ab345952bb11d9ee69a9c1e3432b6760c55","modified":1581333445320},{"_id":"themes/pure/layout/_script/douban.ejs","hash":"1e4bad0e7d04352e3634994f413c16b0001efa4a","modified":1581333445321},{"_id":"themes/pure/layout/_script/fancybox.ejs","hash":"4558b5713926735d874deb14d8b21ed2e597b714","modified":1581333445322},{"_id":"themes/pure/layout/_script/mathjax.ejs","hash":"7a64d98212769423425102a441fca52eb6930fff","modified":1581333445322},{"_id":"themes/pure/layout/_script/pv.ejs","hash":"51071a5b7794e910de47ca766f08f60aad944a87","modified":1581333445323},{"_id":"themes/pure/layout/_script/repository.ejs","hash":"e2f8ba48f7a659c74d5fc38930b873c167671044","modified":1581333445323},{"_id":"themes/pure/layout/_script/search.ejs","hash":"2b784d15581df4309f56682896b725da7d44fcdd","modified":1581333445324},{"_id":"themes/pure/layout/_search/baidu.ejs","hash":"89848cc8e0190ca76cc26d42c6880a23e370702e","modified":1581333445324},{"_id":"themes/pure/layout/_search/index-mobile.ejs","hash":"5e9a5cc9bdc05fabf939db494c3937cc0df48a72","modified":1581333445325},{"_id":"themes/pure/layout/_search/index.ejs","hash":"2c1f06dac5710e5fd073f3e5739545f3f6a0a56f","modified":1581333445326},{"_id":"themes/pure/layout/_search/insight.ejs","hash":"14b1ec0bdb911ab6d92046c78d371264afc4fb19","modified":1581333445326},{"_id":"themes/pure/layout/_search/swiftype.ejs","hash":"dc548a83c33b5a598683bf2e1cb723bc3be4a76b","modified":1581333445327},{"_id":"themes/pure/layout/_widget/archive.ejs","hash":"b250fb0f63286f9648cd8bf428bed6a88901b481","modified":1581333445328},{"_id":"themes/pure/layout/_widget/board.ejs","hash":"9811bab46dcf436c6d05ae78acd62bc25751df78","modified":1581333445329},{"_id":"themes/pure/layout/_widget/category.ejs","hash":"83c8ce4b099951d58b2be5006f6963afbbe7d4e9","modified":1581333445329},{"_id":"themes/pure/layout/_widget/recent_posts.ejs","hash":"8932ce5283a7e6a356c6840104a7d6984f2ea986","modified":1581333445330},{"_id":"themes/pure/layout/_widget/tag.ejs","hash":"24823a881a6c15fd846c7f4780eb90fe869a813b","modified":1581333445330},{"_id":"themes/pure/layout/_widget/tagcloud.ejs","hash":"e6967ec160b93a5f466a73a36745833e644d04c0","modified":1581333445331},{"_id":"themes/pure/source/css/_variables.styl","hash":"a536bed883f30b304eee41606b2a500639840eff","modified":1581333445368},{"_id":"themes/pure/source/css/navy.styl","hash":"3d7fc8e38951886b9464aff9f77c6d2e8f7f343f","modified":1581333445368},{"_id":"themes/pure/source/fonts/README.md","hash":"b5b2aac1b36a86dac2217d242d650e026c5a3b0c","modified":1581333445376},{"_id":"themes/pure/source/fonts/iconfont.eot","hash":"6819d9bb643bdeafc17bfecb0746ae641b018fdf","modified":1581333445377},{"_id":"themes/pure/source/fonts/iconfont.ttf","hash":"9b8837f9f79cf6ab794736301d0665345183a20c","modified":1581333445380},{"_id":"themes/pure/source/fonts/iconfont.woff","hash":"78d29194287b8885d25212048c4f787705212a6e","modified":1581333445381},{"_id":"themes/pure/source/images/thumb-default.png","hash":"e8403b97ed9251f9f5207765b0ce796c5000b4ba","modified":1581333445391},{"_id":"themes/pure/source/images/xingqiu-qrcode.jpg","hash":"ef2c2848dc79db6df7c752510651ed8ba57f2daf","modified":1581399796578},{"_id":"themes/pure/source/js/application.js","hash":"c29f52f5ed2d1a5d8185b115f2962d22e707e19e","modified":1581333445392},{"_id":"themes/pure/source/js/application.min.js","hash":"34d765e982c7d6360c37f82202d99f63ac40e408","modified":1581333445393},{"_id":"themes/pure/source/js/insight.js","hash":"a1b773d9ce470bf0e2f8fdca1b6fac2ac3d31aeb","modified":1581333445393},{"_id":"themes/pure/source/js/lang_select.js","hash":"82cd078d06372bb06dc057856908325ad9c6b937","modified":1581333445395},{"_id":"themes/pure/source/js/mobile_nav.js","hash":"61a09d5571e1cf99177aec5e1e8ec7c7857b7d71","modified":1581333445396},{"_id":"themes/pure/source/js/toc.js","hash":"fdc09c55164ab90e7b7389c8fb27fc7f10af04ce","modified":1581333445402},{"_id":"themes/pure/source/favicon.png","hash":"a7aded03761a3085e67f58b925ba855b9d56007a","modified":1581333445375},{"_id":"themes/pure/source/images/avatar.jpg","hash":"ef47c05ea65f9fea46da5b33cb227700be159d26","modified":1581337396880},{"_id":"themes/pure/source/images/wechat.jpg","hash":"a3c186e1ac6d6c6f2ecfeb085af581bd3072d9d1","modified":1581340492639},{"_id":"themes/pure/source/js/jquery.min.js","hash":"dacc1f76630a9708add066819b1aabf8dce01056","modified":1581333445395},{"_id":"themes/pure/source/js/plugin.min.js","hash":"4eded164f8b6f5187fbf10065873ebeee5ab8787","modified":1581333445401},{"_id":"source/_posts/设计模式/单例模式/singleton.md","hash":"04f13f53ec011cd09783f620c99288bb1bcdcb3a","modified":1581669671832},{"_id":"themes/pure/layout/_partial/post/category.ejs","hash":"20ef0d47ec3d2de7d94db9778ddac092dc2bd4b5","modified":1581333445307},{"_id":"themes/pure/layout/_partial/post/comment.ejs","hash":"0ef132fc45042b28411e3334e77b6e2a7f47fae2","modified":1581333445307},{"_id":"themes/pure/layout/_partial/post/copyright.ejs","hash":"c14c41095c25a76de5611d3b08538a46d4aaa8a7","modified":1581652128894},{"_id":"themes/pure/layout/_partial/post/date.ejs","hash":"bab52f4d48ac576eb30a20454e3bc7f15a0041cb","modified":1581333445308},{"_id":"themes/pure/layout/_partial/post/donate.ejs","hash":"bdef9836ca91b3e45498a9d98bcaec69e6627ced","modified":1581333445309},{"_id":"themes/pure/layout/_partial/post/gallery.ejs","hash":"b0bf3f5d923c261ca2b5fabab513f1ec2708c8ca","modified":1581333445310},{"_id":"themes/pure/layout/_partial/post/nav.ejs","hash":"15255c9b1644a79be097f6af26f0317a507b0690","modified":1581333445311},{"_id":"themes/pure/layout/_partial/post/pv.ejs","hash":"e69a6c16ba9a37715ba459e203853f1711381089","modified":1581333445311},{"_id":"themes/pure/layout/_partial/post/tag.ejs","hash":"8fd470b8d52606a90d475f7da9dbbed32742b1c9","modified":1581333445312},{"_id":"themes/pure/layout/_partial/post/thumbnail.ejs","hash":"0d8b9a3aeaed95b74e292c593f0a8225711bfdca","modified":1581658502383},{"_id":"themes/pure/layout/_partial/post/title.ejs","hash":"d4a460a35e2112d0c7414fd5e19b3a16093f1caf","modified":1581333445312},{"_id":"themes/pure/layout/_partial/post/wordcount.ejs","hash":"81e9a89734505f54fef83dc74d2e277dab1bfa75","modified":1581333445312},{"_id":"themes/pure/layout/_script/_analytics/baidu-analytics.ejs","hash":"6722ed9ae808f642fb59ac8228283100d777a25a","modified":1581333445315},{"_id":"themes/pure/layout/_script/_analytics/google-analytics.ejs","hash":"4557389e499b89982eb005a821208fdd3dbac627","modified":1581333445315},{"_id":"themes/pure/layout/_script/_analytics/tencent-analytics.ejs","hash":"19585fc666e13a2816d74a8046998ac7fd36f75c","modified":1581333445316},{"_id":"themes/pure/layout/_script/_comment/disqus.ejs","hash":"98dac12a9cbf47098b49183893d714355e2e5999","modified":1581333445316},{"_id":"themes/pure/layout/_script/_comment/gitalk.ejs","hash":"6234ef13a1290f8849ca850641c0be0ab6af8cef","modified":1581333445317},{"_id":"themes/pure/layout/_script/_comment/gitment.ejs","hash":"0af71b5b354fdddd576fbd55c3aeb0221af71e7d","modified":1581333445317},{"_id":"themes/pure/layout/_script/_comment/livere.ejs","hash":"2cc7b1cb7bdf157fe6470eb34a613963df75afa3","modified":1581333445318},{"_id":"themes/pure/layout/_script/_comment/valine.ejs","hash":"19120669bfea521e0b9d2df5bf3a34f0ecb8bb68","modified":1581333445318},{"_id":"themes/pure/layout/_script/_comment/youyan.ejs","hash":"96fcc36560a8367e6c4ba9ec1e82d0c5a730b1b4","modified":1581333445318},{"_id":"themes/pure/layout/_script/_search/baidu.ejs","hash":"72b48dcaab830b615c71f6e810e96100b715c682","modified":1581333445319},{"_id":"themes/pure/layout/_script/_search/insight.ejs","hash":"f95c3289c03fa084afce64e3c399cb5127707f56","modified":1581333445320},{"_id":"themes/pure/source/css/_partial/archive.styl","hash":"9b1719d877ca2bda26d5d1ae3cff74bf90333a64","modified":1581333445362},{"_id":"themes/pure/source/css/_partial/base.styl","hash":"204b810b714675118004734384c81ab225b788c1","modified":1581333445363},{"_id":"themes/pure/source/css/_partial/carbonads.styl","hash":"fea4cb0cee827b1ae74791f44ecb19429604c72b","modified":1581333445363},{"_id":"themes/pure/source/css/_partial/footer.styl","hash":"2308edcebe4e5795cbf6dc31e4a009ca1057fd60","modified":1581333445363},{"_id":"themes/pure/source/css/_partial/header.styl","hash":"1703b860baa77731da4e5f8632a39721a455c515","modified":1581333445364},{"_id":"themes/pure/source/css/_partial/highlight.styl","hash":"42e93a289e17f45eb8349c08fa0fe2137400e766","modified":1581333445364},{"_id":"themes/pure/source/css/_partial/index.styl","hash":"68081a95a23a6b510723789051a5cbf25693728d","modified":1581333445366},{"_id":"themes/pure/source/css/_partial/mobile_nav.styl","hash":"9f1882e9225c1d8fbcac22312bccef2313076a9a","modified":1581333445366},{"_id":"themes/pure/source/css/_partial/page.styl","hash":"43036f9ed84a6835f9a104191f72a56a9ca1f696","modified":1581333445366},{"_id":"themes/pure/source/css/_partial/plugins.styl","hash":"adb0bc74a389079702890be524626ba88df36f38","modified":1581333445367},{"_id":"themes/pure/source/css/_partial/post.styl","hash":"290029b8968f5c5d8712d92fd0246e6caed0aed6","modified":1581333445367},{"_id":"themes/pure/source/css/_partial/sidebar.styl","hash":"2611f337dd8b0e06aec112aae9fbb30d7c8f86ba","modified":1581333445368},{"_id":"themes/pure/source/css/style.css","hash":"54fc65c360b244833144ec2e8b22b949fd049240","modified":1581333445371},{"_id":"themes/pure/source/css/style.min.css","hash":"4e46cbfadf9f0c5c236239a163058a3f525492ce","modified":1581333445373},{"_id":"themes/pure/source/fonts/iconfont.svg","hash":"1af91521f1c29c231ffc19d7f64696ddcd71470b","modified":1581333445379},{"_id":"themes/pure/source/images/donate/alipayimg.jpg","hash":"e0ea78bf2741f3258951cc70c28bba106bb0ce21","modified":1581337786533},{"_id":"themes/pure/source/images/donate/wechatpayimg.jpg","hash":"55c52080fe70f278f2e50f91b7fdf0e69403817b","modified":1581337552457},{"_id":"themes/pure/source/images/link/SzsFox-logo.png","hash":"d71fcc73b7bc2a439d8c7ba461137856d190bd76","modified":1581333445387},{"_id":"themes/pure/source/images/link/chuangzaoshi-logo.png","hash":"7fa5734072050952159a02d330bbc008b5a99122","modified":1581333445387},{"_id":"themes/pure/source/images/link/idesign-logo.png","hash":"6b150a2dbb9912b7a7662255c27e4d4baaecee71","modified":1581333445388},{"_id":"themes/pure/source/js/plugin.js","hash":"59cb2985d8d21653f0f80ef327517eca86af0ac6","modified":1581333445398},{"_id":"themes/pure/source/js/plugin.js.map","hash":"1730c0cc660f863120aca0a439d7264e2e245fc5","modified":1581333445400},{"_id":"themes/pure/source/images/logo.png","hash":"a7aded03761a3085e67f58b925ba855b9d56007a","modified":1581333445390},{"_id":"source/_posts/设计模式/单例模式/singleton/test.png","hash":"ef3d7846d164b50ad2fb2dae5bcdfaf76c7e2df8","modified":1581657544205},{"_id":"public/baidusitemap.xml","hash":"1fbc1ec9701e3565b2fa84960ff39073e1dbcea9","modified":1581670109536},{"_id":"public/atom.xml","hash":"ea4b6178e3153deab62196e249d90fd704ca32a8","modified":1581670109536},{"_id":"public/sitemap.xml","hash":"b15c8622ec2f840f41d80ed653063ddfd26a40f4","modified":1581670109536},{"_id":"public/content.json","hash":"74d262529038ac2b9d93b2a592f55e0eeb8b02c5","modified":1581670109536},{"_id":"public/about/index.html","hash":"7ec9c9ef51fb173582fb2d3be35b52e8ebcee0bc","modified":1581670109536},{"_id":"public/tags/index.html","hash":"1641d7cecb5b5e37b339c121abc8a00b6738a941","modified":1581670109536},{"_id":"public/categories/index.html","hash":"5103561fd6ed42fe695b03fc4d5aca4937f7e025","modified":1581670109536},{"_id":"public/archives/index.html","hash":"113619d4a0f267eb81c1576b42baf91d8e32d6ea","modified":1581670109536},{"_id":"public/archives/2020/index.html","hash":"1b971aa9f24861e6622e54604ec5bf9560282fe6","modified":1581670109536},{"_id":"public/archives/2020/02/index.html","hash":"e06172aa5d226fc1ca39b37b1ded5119e1b3e66c","modified":1581670109536},{"_id":"public/categories/设计模式/index.html","hash":"900b5083983510a63936243e109196d759f68a38","modified":1581670109536},{"_id":"public/tags/设计模式/index.html","hash":"d282632d9afdfd52c4a1092880f03529553c23bc","modified":1581670109536},{"_id":"public/2020/02/13/设计模式/单例模式/singleton/index.html","hash":"0f43cdf6753191b79f708f9bc825fd4c4c0e2aea","modified":1581670109536},{"_id":"public/index.html","hash":"d8f54c58b5071390b1825b39ef2bd935b87de3a0","modified":1581670109536},{"_id":"public/fonts/iconfont.ttf","hash":"9b8837f9f79cf6ab794736301d0665345183a20c","modified":1581670109536},{"_id":"public/fonts/iconfont.woff","hash":"78d29194287b8885d25212048c4f787705212a6e","modified":1581670109536},{"_id":"public/images/thumb-default.png","hash":"e8403b97ed9251f9f5207765b0ce796c5000b4ba","modified":1581670109536},{"_id":"public/images/xingqiu-qrcode.jpg","hash":"ef2c2848dc79db6df7c752510651ed8ba57f2daf","modified":1581670109536},{"_id":"public/images/donate/alipayimg.jpg","hash":"e0ea78bf2741f3258951cc70c28bba106bb0ce21","modified":1581670109536},{"_id":"public/images/donate/wechatpayimg.jpg","hash":"55c52080fe70f278f2e50f91b7fdf0e69403817b","modified":1581670109536},{"_id":"public/images/link/SzsFox-logo.png","hash":"d71fcc73b7bc2a439d8c7ba461137856d190bd76","modified":1581670109536},{"_id":"public/images/link/chuangzaoshi-logo.png","hash":"7fa5734072050952159a02d330bbc008b5a99122","modified":1581670109536},{"_id":"public/images/link/idesign-logo.png","hash":"6b150a2dbb9912b7a7662255c27e4d4baaecee71","modified":1581670109536},{"_id":"public/fonts/iconfont.eot","hash":"6819d9bb643bdeafc17bfecb0746ae641b018fdf","modified":1581670109536},{"_id":"public/images/avatar.jpg","hash":"ef47c05ea65f9fea46da5b33cb227700be159d26","modified":1581670109536},{"_id":"public/images/wechat.jpg","hash":"a3c186e1ac6d6c6f2ecfeb085af581bd3072d9d1","modified":1581670109536},{"_id":"public/js/application.js","hash":"46d1fb207ce5f0acb83803f927985dfcea86f9ef","modified":1581670109536},{"_id":"public/js/application.min.js","hash":"34d765e982c7d6360c37f82202d99f63ac40e408","modified":1581670109536},{"_id":"public/js/insight.js","hash":"298e8ca42517984bd26f34caa4c45560b0e909ad","modified":1581670109536},{"_id":"public/js/lang_select.js","hash":"f3d61d478e8f7e6d9d661e5e83fdc4450a012e67","modified":1581670109536},{"_id":"public/js/mobile_nav.js","hash":"f4976aef22eb1e5e06b20c7735f7d3ef29b8956e","modified":1581670109536},{"_id":"public/js/toc.js","hash":"d95c8db8caddf36cada66acf03a2377d28e9c107","modified":1581670109536},{"_id":"public/fonts/README.html","hash":"7c1128fed284d2fb7fee743e8a739da99385b358","modified":1581670109536},{"_id":"public/css/navy.css","hash":"4c22e228b86f581c0bfc38f3674c454a455099c0","modified":1581670109536},{"_id":"public/js/jquery.min.js","hash":"5a9dcfbef655a2668e78baebeaa8dc6f41d8dabb","modified":1581670109536},{"_id":"public/js/plugin.min.js","hash":"07fe34638f9832702c5f81d8583c5e4e8b3d9659","modified":1581670109536},{"_id":"public/css/style.css","hash":"ce7a0170934c11388b1dc5ab6b42bd2b55935e30","modified":1581670109536},{"_id":"public/css/style.min.css","hash":"1d23abc76726ebe042f7df4749f00f8f73338444","modified":1581670109536},{"_id":"public/js/plugin.js","hash":"a8524d42b8621bfaa06602a163c6a1f82702b91d","modified":1581670109536},{"_id":"public/fonts/iconfont.svg","hash":"1af91521f1c29c231ffc19d7f64696ddcd71470b","modified":1581670109536},{"_id":"public/js/plugin.js.map","hash":"1730c0cc660f863120aca0a439d7264e2e245fc5","modified":1581670109536},{"_id":"public/favicon.png","hash":"a7aded03761a3085e67f58b925ba855b9d56007a","modified":1581670109536},{"_id":"public/images/logo.png","hash":"a7aded03761a3085e67f58b925ba855b9d56007a","modified":1581670109536},{"_id":"public/2020/02/13/设计模式/单例模式/singleton/test.png","hash":"ef3d7846d164b50ad2fb2dae5bcdfaf76c7e2df8","modified":1581670109536}],"Category":[{"name":"设计模式","_id":"ck6lxjojv0004egv0hg3y6vs2"}],"Data":[],"Page":[{"title":"关于","description":"个人简介","layout":"about","comments":0,"sidebar":"custom","_content":"个人详细介绍\n\n\n","source":"about/index.md","raw":"---\ntitle: 关于\ndescription: 个人简介\nlayout: about\ncomments: false\nsidebar: custom\n---\n个人详细介绍\n\n\n","date":"2020-02-14T03:33:00.169Z","updated":"2020-02-10T11:17:25.289Z","path":"about/index.html","_id":"ck6lxjofr0000egv0hbs8f1rw","content":"<p>个人详细介绍</p>\n","site":{"data":{}},"excerpt":"","more":"<p>个人详细介绍</p>\n"},{"title":"标签","layout":"tags","comments":0,"sidebar":"none","_content":"","source":"tags/index.md","raw":"---\ntitle: 标签\nlayout: tags\ncomments: false\nsidebar: none\n---\n","date":"2020-02-11T02:40:14.244Z","updated":"2020-02-11T02:40:14.244Z","path":"tags/index.html","_id":"ck6lxjog10001egv05bqibna3","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"分类","layout":"categories","comments":0,"sidebar":"none","date":"2018-05-30T15:48:37.000Z","_content":"","source":"categories/index.md","raw":"---\ntitle: 分类\nlayout: categories\ncomments: false\nsidebar: none\ndate: 2018-05-30 23:48:37\n---\n","updated":"2020-02-11T02:29:13.170Z","path":"categories/index.html","_id":"ck6lxjog30002egv0a8sd7p52","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"单例模式","description":"单例模式通过Go来实现","date":"2020-02-13T04:08:40.000Z","_content":"\n![test](./test.png)\n\n单例模式是我们平常开发中用的最多设计模式之一，单例有很多级别上的，例如函数上的单例，进程上的单例，下面讲的是代码中的单例，只要了解单例的思想即可，语言知识实现工具，下面讲解如下几种类型单例模式\n\n- 饿汉模式\n- 懒汉模式\n- 懒汉模式(加锁)\n- 懒汉模式(双重检查加锁)\n- sync.Once实现\n\n\n\n相关代码如下:\n\n```go\nimport (\n\t\"fmt\"\n\t\"sync\"\n)\n\ntype SingleTon struct {\n}\n\nvar singleTon *SingleTon\n\nvar mu sync.Mutex\n\n//懒汉模式\n//还有一种饿汉式，就是一开始就初始化singleTon,实现如下\n//func init() {\n// singleTon = &SingleTon{}\n//}\nfunc NewSingleTon() *SingleTon {\n   if singleTon == nil {\n      singleTon = &SingleTon{}\n   }\n   return singleTon\n}\n\n// 懒汉加锁\nfunc NewSingleTonByLock() *SingleTon {\n   mu.Lock()\n   defer mu.Unlock()\n\n   if singleTon == nil {\n      singleTon = &SingleTon{}\n   }\n   return singleTon\n}\n\n// 懒汉加检查锁\nfunc NewSingleTonByLock2() *SingleTon {\n   if singleTon == nil {\n      mu.Lock()\n      defer mu.Unlock()\n\n      if singleTon == nil {\n         singleTon = &SingleTon{}\n      }\n   }\n   return singleTon\n}\n\n// 通过sync.Once实现\n// 看过Once包的知道，实现很简单通过加锁实现，通过done标记位来判断，运行过一次通过原子操作将done置为1\nvar once sync.Once\n\nfunc NewSingleTonByOnce() *SingleTon {\n   once.Do(func() {\n      singleTon = &SingleTon{}\n   })\n\n   return singleTon\n}\n```","source":"_posts/设计模式/单例模式/singleton.md","raw":"---\ntitle: 单例模式\ndescription: 单例模式通过Go来实现\ntags: 设计模式\ncategories: 设计模式\ndate: 2020-02-13 12:08:40\n---\n\n![test](./test.png)\n\n单例模式是我们平常开发中用的最多设计模式之一，单例有很多级别上的，例如函数上的单例，进程上的单例，下面讲的是代码中的单例，只要了解单例的思想即可，语言知识实现工具，下面讲解如下几种类型单例模式\n\n- 饿汉模式\n- 懒汉模式\n- 懒汉模式(加锁)\n- 懒汉模式(双重检查加锁)\n- sync.Once实现\n\n\n\n相关代码如下:\n\n```go\nimport (\n\t\"fmt\"\n\t\"sync\"\n)\n\ntype SingleTon struct {\n}\n\nvar singleTon *SingleTon\n\nvar mu sync.Mutex\n\n//懒汉模式\n//还有一种饿汉式，就是一开始就初始化singleTon,实现如下\n//func init() {\n// singleTon = &SingleTon{}\n//}\nfunc NewSingleTon() *SingleTon {\n   if singleTon == nil {\n      singleTon = &SingleTon{}\n   }\n   return singleTon\n}\n\n// 懒汉加锁\nfunc NewSingleTonByLock() *SingleTon {\n   mu.Lock()\n   defer mu.Unlock()\n\n   if singleTon == nil {\n      singleTon = &SingleTon{}\n   }\n   return singleTon\n}\n\n// 懒汉加检查锁\nfunc NewSingleTonByLock2() *SingleTon {\n   if singleTon == nil {\n      mu.Lock()\n      defer mu.Unlock()\n\n      if singleTon == nil {\n         singleTon = &SingleTon{}\n      }\n   }\n   return singleTon\n}\n\n// 通过sync.Once实现\n// 看过Once包的知道，实现很简单通过加锁实现，通过done标记位来判断，运行过一次通过原子操作将done置为1\nvar once sync.Once\n\nfunc NewSingleTonByOnce() *SingleTon {\n   once.Do(func() {\n      singleTon = &SingleTon{}\n   })\n\n   return singleTon\n}\n```","slug":"设计模式/单例模式/singleton","published":1,"updated":"2020-02-14T08:41:11.832Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6lxjojp0003egv0geu4bdu1","content":"<p><img src=\"./test.png\" alt=\"test\"></p>\n<p>单例模式是我们平常开发中用的最多设计模式之一，单例有很多级别上的，例如函数上的单例，进程上的单例，下面讲的是代码中的单例，只要了解单例的思想即可，语言知识实现工具，下面讲解如下几种类型单例模式</p>\n<ul>\n<li>饿汉模式</li>\n<li>懒汉模式</li>\n<li>懒汉模式(加锁)</li>\n<li>懒汉模式(双重检查加锁)</li>\n<li>sync.Once实现</li>\n</ul>\n<p>相关代码如下:</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">\t<span class=\"string\">\"fmt\"</span></span><br><span class=\"line\">\t<span class=\"string\">\"sync\"</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> SingleTon <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> singleTon *SingleTon</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> mu sync.Mutex</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//懒汉模式</span></span><br><span class=\"line\"><span class=\"comment\">//还有一种饿汉式，就是一开始就初始化singleTon,实现如下</span></span><br><span class=\"line\"><span class=\"comment\">//func init() &#123;</span></span><br><span class=\"line\"><span class=\"comment\">// singleTon = &amp;SingleTon&#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//&#125;</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewSingleTon</span><span class=\"params\">()</span> *<span class=\"title\">SingleTon</span></span> &#123;</span><br><span class=\"line\">   <span class=\"keyword\">if</span> singleTon == <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">      singleTon = &amp;SingleTon&#123;&#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> singleTon</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 懒汉加锁</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewSingleTonByLock</span><span class=\"params\">()</span> *<span class=\"title\">SingleTon</span></span> &#123;</span><br><span class=\"line\">   mu.Lock()</span><br><span class=\"line\">   <span class=\"keyword\">defer</span> mu.Unlock()</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">if</span> singleTon == <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">      singleTon = &amp;SingleTon&#123;&#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> singleTon</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 懒汉加检查锁</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewSingleTonByLock2</span><span class=\"params\">()</span> *<span class=\"title\">SingleTon</span></span> &#123;</span><br><span class=\"line\">   <span class=\"keyword\">if</span> singleTon == <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">      mu.Lock()</span><br><span class=\"line\">      <span class=\"keyword\">defer</span> mu.Unlock()</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> singleTon == <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">         singleTon = &amp;SingleTon&#123;&#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> singleTon</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 通过sync.Once实现</span></span><br><span class=\"line\"><span class=\"comment\">// 看过Once包的知道，实现很简单通过加锁实现，通过done标记位来判断，运行过一次通过原子操作将done置为1</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> once sync.Once</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewSingleTonByOnce</span><span class=\"params\">()</span> *<span class=\"title\">SingleTon</span></span> &#123;</span><br><span class=\"line\">   once.Do(<span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">      singleTon = &amp;SingleTon&#123;&#125;</span><br><span class=\"line\">   &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">return</span> singleTon</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<p><img src=\"./test.png\" alt=\"test\"></p>\n<p>单例模式是我们平常开发中用的最多设计模式之一，单例有很多级别上的，例如函数上的单例，进程上的单例，下面讲的是代码中的单例，只要了解单例的思想即可，语言知识实现工具，下面讲解如下几种类型单例模式</p>\n<ul>\n<li>饿汉模式</li>\n<li>懒汉模式</li>\n<li>懒汉模式(加锁)</li>\n<li>懒汉模式(双重检查加锁)</li>\n<li>sync.Once实现</li>\n</ul>\n<p>相关代码如下:</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">\t<span class=\"string\">\"fmt\"</span></span><br><span class=\"line\">\t<span class=\"string\">\"sync\"</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> SingleTon <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> singleTon *SingleTon</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> mu sync.Mutex</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//懒汉模式</span></span><br><span class=\"line\"><span class=\"comment\">//还有一种饿汉式，就是一开始就初始化singleTon,实现如下</span></span><br><span class=\"line\"><span class=\"comment\">//func init() &#123;</span></span><br><span class=\"line\"><span class=\"comment\">// singleTon = &amp;SingleTon&#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//&#125;</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewSingleTon</span><span class=\"params\">()</span> *<span class=\"title\">SingleTon</span></span> &#123;</span><br><span class=\"line\">   <span class=\"keyword\">if</span> singleTon == <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">      singleTon = &amp;SingleTon&#123;&#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> singleTon</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 懒汉加锁</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewSingleTonByLock</span><span class=\"params\">()</span> *<span class=\"title\">SingleTon</span></span> &#123;</span><br><span class=\"line\">   mu.Lock()</span><br><span class=\"line\">   <span class=\"keyword\">defer</span> mu.Unlock()</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">if</span> singleTon == <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">      singleTon = &amp;SingleTon&#123;&#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> singleTon</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 懒汉加检查锁</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewSingleTonByLock2</span><span class=\"params\">()</span> *<span class=\"title\">SingleTon</span></span> &#123;</span><br><span class=\"line\">   <span class=\"keyword\">if</span> singleTon == <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">      mu.Lock()</span><br><span class=\"line\">      <span class=\"keyword\">defer</span> mu.Unlock()</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> singleTon == <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">         singleTon = &amp;SingleTon&#123;&#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> singleTon</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 通过sync.Once实现</span></span><br><span class=\"line\"><span class=\"comment\">// 看过Once包的知道，实现很简单通过加锁实现，通过done标记位来判断，运行过一次通过原子操作将done置为1</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> once sync.Once</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewSingleTonByOnce</span><span class=\"params\">()</span> *<span class=\"title\">SingleTon</span></span> &#123;</span><br><span class=\"line\">   once.Do(<span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">      singleTon = &amp;SingleTon&#123;&#125;</span><br><span class=\"line\">   &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">return</span> singleTon</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"}],"PostAsset":[{"_id":"source/_posts/设计模式/单例模式/singleton/test.png","slug":"test.png","post":"ck6lxjojp0003egv0geu4bdu1","modified":0,"renderable":0}],"PostCategory":[{"post_id":"ck6lxjojp0003egv0geu4bdu1","category_id":"ck6lxjojv0004egv0hg3y6vs2","_id":"ck6lxjojy0007egv0geg82n9s"}],"PostTag":[{"post_id":"ck6lxjojp0003egv0geu4bdu1","tag_id":"ck6lxjojw0005egv0bv64gaz5","_id":"ck6lxjojx0006egv0cuaeh9fq"}],"Tag":[{"name":"设计模式","_id":"ck6lxjojw0005egv0bv64gaz5"}]}}