{"meta":{"version":1,"warehouse":"3.0.2"},"models":{"Asset":[{"_id":"themes/pure/source/css/navy.styl","path":"css/navy.styl","modified":0,"renderable":1},{"_id":"themes/pure/source/fonts/README.md","path":"fonts/README.md","modified":0,"renderable":1},{"_id":"themes/pure/source/fonts/iconfont.eot","path":"fonts/iconfont.eot","modified":0,"renderable":1},{"_id":"themes/pure/source/fonts/iconfont.ttf","path":"fonts/iconfont.ttf","modified":0,"renderable":1},{"_id":"themes/pure/source/fonts/iconfont.woff","path":"fonts/iconfont.woff","modified":0,"renderable":1},{"_id":"themes/pure/source/images/thumb-default.png","path":"images/thumb-default.png","modified":0,"renderable":1},{"_id":"themes/pure/source/images/xingqiu-qrcode.jpg","path":"images/xingqiu-qrcode.jpg","modified":0,"renderable":1},{"_id":"themes/pure/source/js/application.js","path":"js/application.js","modified":0,"renderable":1},{"_id":"themes/pure/source/js/application.min.js","path":"js/application.min.js","modified":0,"renderable":1},{"_id":"themes/pure/source/js/insight.js","path":"js/insight.js","modified":0,"renderable":1},{"_id":"themes/pure/source/js/lang_select.js","path":"js/lang_select.js","modified":0,"renderable":1},{"_id":"themes/pure/source/js/mobile_nav.js","path":"js/mobile_nav.js","modified":0,"renderable":1},{"_id":"themes/pure/source/js/toc.js","path":"js/toc.js","modified":0,"renderable":1},{"_id":"themes/pure/source/favicon.png","path":"favicon.png","modified":0,"renderable":1},{"_id":"themes/pure/source/images/avatar.jpg","path":"images/avatar.jpg","modified":0,"renderable":1},{"_id":"themes/pure/source/images/wechat.jpg","path":"images/wechat.jpg","modified":0,"renderable":1},{"_id":"themes/pure/source/js/jquery.min.js","path":"js/jquery.min.js","modified":0,"renderable":1},{"_id":"themes/pure/source/js/plugin.js","path":"js/plugin.js","modified":0,"renderable":1},{"_id":"themes/pure/source/js/plugin.min.js","path":"js/plugin.min.js","modified":0,"renderable":1},{"_id":"themes/pure/source/css/style.css","path":"css/style.css","modified":0,"renderable":1},{"_id":"themes/pure/source/css/style.min.css","path":"css/style.min.css","modified":0,"renderable":1},{"_id":"themes/pure/source/fonts/iconfont.svg","path":"fonts/iconfont.svg","modified":0,"renderable":1},{"_id":"themes/pure/source/images/donate/alipayimg.jpg","path":"images/donate/alipayimg.jpg","modified":0,"renderable":1},{"_id":"themes/pure/source/images/donate/wechatpayimg.jpg","path":"images/donate/wechatpayimg.jpg","modified":0,"renderable":1},{"_id":"themes/pure/source/images/link/SzsFox-logo.png","path":"images/link/SzsFox-logo.png","modified":0,"renderable":1},{"_id":"themes/pure/source/images/link/chuangzaoshi-logo.png","path":"images/link/chuangzaoshi-logo.png","modified":0,"renderable":1},{"_id":"themes/pure/source/images/link/idesign-logo.png","path":"images/link/idesign-logo.png","modified":0,"renderable":1},{"_id":"themes/pure/source/js/plugin.js.map","path":"js/plugin.js.map","modified":0,"renderable":1},{"_id":"themes/pure/source/images/logo.png","path":"images/logo.png","modified":0,"renderable":1}],"Cache":[{"_id":"themes/pure/LICENSE","hash":"c480fce396b23997ee23cc535518ffaaf7f458f8","modified":1581675557620},{"_id":"themes/pure/README.cn.md","hash":"de7ef42ea2e10b517c9d9949fc897105a727d33c","modified":1581675557621},{"_id":"themes/pure/README.md","hash":"5861cec81712af9197a210fd5212d007aad8b0de","modified":1581675557622},{"_id":"themes/pure/_config.yml","hash":"8a82863d47ebad6f2765359306a90c1513d22ee3","modified":1581675557623},{"_id":"themes/pure/_config.yml.example","hash":"4714f87fdb6d4a6ea5ece84f4fe37f922337f14d","modified":1581675557624},{"_id":"themes/pure/package.json","hash":"a61723eead5cae2c4d9f0f05cf40d2de7c286fee","modified":1581675557732},{"_id":"source/about/index.md","hash":"4e18706f285d78f3acb5ea0dd4dc521a3d544151","modified":1581675557615},{"_id":"source/categories/index.md","hash":"6fa7f52e6bca79a676c7016f81d843c54f9d950c","modified":1581675557616},{"_id":"source/tags/index.md","hash":"86cb47074c43724586a628787515fe9b4bad86a1","modified":1581675557619},{"_id":"themes/pure/languages/de.yml","hash":"4876530cdb672a4779bd8c02e0976b7d66649406","modified":1581675557638},{"_id":"themes/pure/languages/default.yml","hash":"167ea0db98f4db156ea68c4644f64c0287ae2b6f","modified":1581675557639},{"_id":"themes/pure/languages/en.yml","hash":"167ea0db98f4db156ea68c4644f64c0287ae2b6f","modified":1581675557640},{"_id":"themes/pure/languages/ko.yml","hash":"3104bf659fbe7e812811e8d38baf10ff5c980ed7","modified":1581675557641},{"_id":"themes/pure/languages/pt-br.yml","hash":"636d800e8bcf0ac01bb4089c1a677e530cd7b10c","modified":1581675557642},{"_id":"themes/pure/languages/ru.yml","hash":"aab3da1424143befae173649b5f7f6d6b5e9f050","modified":1581675557642},{"_id":"themes/pure/languages/zh-CN.yml","hash":"057ebc043f09449af9768791c89c86dfc2938365","modified":1581675557644},{"_id":"themes/pure/languages/zh-TW.yml","hash":"6d27c3114be539b8783ffce944f68b2e26a8c3b9","modified":1581675557645},{"_id":"themes/pure/layout/about.ejs","hash":"4f5c769e183249b12eb9d3141432bc0039519730","modified":1581675557720},{"_id":"themes/pure/layout/archive.ejs","hash":"ded5d953b35666e30f4c6e48e2d2c62af8d95ebf","modified":1581675557722},{"_id":"themes/pure/layout/books.ejs","hash":"6c64719cd7071b5319b01339aa524fdaab391385","modified":1581675557723},{"_id":"themes/pure/layout/categories.ejs","hash":"22a2bc1712dd9ba1a3027e875d636132d334fb00","modified":1581675557724},{"_id":"themes/pure/layout/category.ejs","hash":"3ca5651bbce7b0c280c906468f2eb18c2e55ebcb","modified":1581675557725},{"_id":"themes/pure/layout/index.ejs","hash":"07825d8d8b21eb7b694f5585567b9df5c5a91a60","modified":1581675557726},{"_id":"themes/pure/layout/layout.ejs","hash":"554cfeddd0c18b1094bdf21c700a30e4f98bbef0","modified":1581675557727},{"_id":"themes/pure/layout/links.ejs","hash":"77c5d1561e2c606c5b3bb39610133d84324074df","modified":1581675557727},{"_id":"themes/pure/layout/page.ejs","hash":"5c27475c176627e6e2e6a16172eb6980e56bcaff","modified":1581675557728},{"_id":"themes/pure/layout/post.ejs","hash":"5c27475c176627e6e2e6a16172eb6980e56bcaff","modified":1581675557729},{"_id":"themes/pure/layout/repository.ejs","hash":"fe4b3e051a8b0debe9ee22c2cc2cc935d92ee23f","modified":1581675557730},{"_id":"themes/pure/layout/tag.ejs","hash":"df60564c162f7ad3422f8959dfea19351857a7cd","modified":1581675557730},{"_id":"themes/pure/layout/tags.ejs","hash":"29f19a6ed10f8b1f069259a7aeaaacddcfaa2ed4","modified":1581675557731},{"_id":"themes/pure/scripts/thumbnail.js","hash":"e667a611f9baac270281b765832020d50bf8fb7f","modified":1581675557733},{"_id":"themes/pure/_source/404/index.md","hash":"a6444a93a6c27fe1b9ae8aeee9e321c078fe159a","modified":1581675557626},{"_id":"themes/pure/_source/_data/gallery.yml","hash":"e2b3fad87be3d1cfde1effa655d39678ee90907e","modified":1581675557627},{"_id":"themes/pure/_source/_data/links.yml","hash":"1a8212df3a4bfac68d7c7058330fbd6fc814e53a","modified":1581675557628},{"_id":"themes/pure/_source/about/index.md","hash":"4e18706f285d78f3acb5ea0dd4dc521a3d544151","modified":1581675557629},{"_id":"themes/pure/_source/books/index.md","hash":"cf4163959c23244059cbbbc1c0fe379cc3b2cb73","modified":1581675557630},{"_id":"themes/pure/_source/categories/index.md","hash":"28142e30c2f9d0fd5cce20f3375c9074c5cf6287","modified":1581675557631},{"_id":"themes/pure/_source/links/index.md","hash":"febcf87eb0ab3c5080578275d25f3970bba39625","modified":1581675557633},{"_id":"themes/pure/_source/repository/index.md","hash":"ed0e082c30f233dd5c140d188f1e4bce44bdbf79","modified":1581675557635},{"_id":"themes/pure/_source/tags/index.md","hash":"42e9c904ea63b0a7dd4033e2e8f153225bc5cda5","modified":1581675557636},{"_id":"themes/pure/layout/_common/footer.ejs","hash":"91303d59a2414bb6beacd7160203426c85519e83","modified":1581675557647},{"_id":"themes/pure/layout/_common/head.ejs","hash":"a48ef0fa22712b29ec044b9e5134461f3a21c10d","modified":1581675557648},{"_id":"themes/pure/layout/_common/header.ejs","hash":"3d739d1e2b2991927c08ec222db123830a44a519","modified":1581675557649},{"_id":"themes/pure/layout/_common/script.ejs","hash":"0031114d2a58f8601c2869f78ceedc75a10be90d","modified":1581675557650},{"_id":"themes/pure/layout/_common/social.ejs","hash":"a35a2610e9da762df96587b76b51470507a88cad","modified":1581675557651},{"_id":"themes/pure/layout/_partial/archive-book.ejs","hash":"977f97f3636947006ad738e502858c46d4cd5ec7","modified":1581675557652},{"_id":"themes/pure/layout/_partial/archive-category.ejs","hash":"9c364fd6b5172890784141802f5f466241d233fd","modified":1581675557653},{"_id":"themes/pure/layout/_partial/archive-link.ejs","hash":"fe4d9bf526d8176683cea89b8561ced571374db0","modified":1581675557654},{"_id":"themes/pure/layout/_partial/archive-list.ejs","hash":"c66c86d6a6a90e00494c380603426fc0f4006311","modified":1581675557656},{"_id":"themes/pure/layout/_partial/archive-post.ejs","hash":"a38dc2a8f866828307885b7c8e9a0a388b7ff02e","modified":1581675557656},{"_id":"themes/pure/layout/_partial/archive-repository.ejs","hash":"e39dc762d9fe238cede462532e40eaa3d8651122","modified":1581675557658},{"_id":"themes/pure/layout/_partial/archive-tag.ejs","hash":"5de90244c3cedad531cccc03c40e5f9a3aef3c61","modified":1581675557659},{"_id":"themes/pure/layout/_partial/archive.ejs","hash":"fffcee8f1fdaae383a9eaa314c0f1b76fe98ecc5","modified":1581675557660},{"_id":"themes/pure/layout/_partial/article-about.ejs","hash":"27ee3b046514f593d4c957c5ff6882e5e92850b3","modified":1581679656973},{"_id":"themes/pure/layout/_partial/article.ejs","hash":"94ece22f533c11eb00f3c4e91fc74d7ff0065e5d","modified":1581675557662},{"_id":"themes/pure/layout/_partial/item-post.ejs","hash":"9f755b0da1ea928dece32c2050d8a04b3a9fb13b","modified":1581675557663},{"_id":"themes/pure/layout/_partial/pagination.ejs","hash":"c71475b8663e1acbc81ee20b6c5e33aeea5ff284","modified":1581675557663},{"_id":"themes/pure/layout/_partial/sidebar-about.ejs","hash":"ef02cfc867370e06bf53438de19d85591f408adb","modified":1581679242049},{"_id":"themes/pure/layout/_partial/sidebar-toc.ejs","hash":"152538ceceb0fdef65c46470ebf0189f7b891c5b","modified":1581675557676},{"_id":"themes/pure/layout/_partial/sidebar.ejs","hash":"2aa8a9f90838e7c105e75e6d3d03cbf860bb1239","modified":1581675557677},{"_id":"themes/pure/layout/_script/analytics.ejs","hash":"e756a81f8c20a187fb863b9689f2f1fa15e2f4e1","modified":1581675557701},{"_id":"themes/pure/layout/_script/comment.ejs","hash":"6f951510bab9dc15474b6664e0329defccf29a30","modified":1581675557701},{"_id":"themes/pure/layout/_script/douban.ejs","hash":"143087db0573772b0bdaf7f93312553158942ec7","modified":1581675557702},{"_id":"themes/pure/layout/_script/fancybox.ejs","hash":"8f1be01e70a15b2c31ae57d8c6bce54622ebf8a7","modified":1581675557704},{"_id":"themes/pure/layout/_script/mathjax.ejs","hash":"f618393ab971b2faa80d541f2e6a553d9ace9816","modified":1581675557704},{"_id":"themes/pure/layout/_script/pv.ejs","hash":"f26547d7cf3086f926144fd2b22514894131332b","modified":1581675557705},{"_id":"themes/pure/layout/_script/repository.ejs","hash":"14f2e7d4c1055ff6a5f5867dc0e9a9f6f4c28fe1","modified":1581675557707},{"_id":"themes/pure/layout/_script/search.ejs","hash":"7be33dc260ce788aa1a2cd3bd0386d95057533cb","modified":1581675557709},{"_id":"themes/pure/layout/_search/baidu.ejs","hash":"67aab280a3ea34429f086cc5c3de7de17727c567","modified":1581675557710},{"_id":"themes/pure/layout/_search/index-mobile.ejs","hash":"c726e234c0166da69fdfbd3dd613a5eaf4c80258","modified":1581675557711},{"_id":"themes/pure/layout/_search/index.ejs","hash":"f8d5a9c3f777250f5fb6512bba585307f784d5cd","modified":1581675557712},{"_id":"themes/pure/layout/_search/insight.ejs","hash":"4af3e92ef98bedba9680d45699cb04dde4640536","modified":1581675557713},{"_id":"themes/pure/layout/_search/swiftype.ejs","hash":"4baeca36e410181300ae7d47ba1fb4755bcfcff0","modified":1581675557714},{"_id":"themes/pure/layout/_widget/archive.ejs","hash":"af8ad7f62877764b75d5272d9d899fd6c8e3845c","modified":1581675557715},{"_id":"themes/pure/layout/_widget/board.ejs","hash":"acd27451be52703e670ce0b313f2da6fa24071e4","modified":1581675557716},{"_id":"themes/pure/layout/_widget/category.ejs","hash":"331b7642a0f58b9088b937436ab39076a4c5dd7e","modified":1581675557717},{"_id":"themes/pure/layout/_widget/recent_posts.ejs","hash":"8942d60311797a591ba2d157c5cdd23e85ceb694","modified":1581675557718},{"_id":"themes/pure/layout/_widget/tag.ejs","hash":"487628925da5fcac91463cdad3d9e55d071bd5ed","modified":1581675557718},{"_id":"themes/pure/layout/_widget/tagcloud.ejs","hash":"3291108e5411c48b2c5b3e17adace6ffa90d1c29","modified":1581675557719},{"_id":"themes/pure/source/css/_variables.styl","hash":"0c90e53c9ce8347f452c4ec6cb4ee9f71617ba3d","modified":1581675557749},{"_id":"themes/pure/source/css/navy.styl","hash":"617912841fc8e2be88e2926845e96f4ad447876f","modified":1581675557750},{"_id":"themes/pure/source/fonts/README.md","hash":"c5772b99ad81291fb137b330813f866bdceea0a3","modified":1581675557758},{"_id":"themes/pure/source/fonts/iconfont.eot","hash":"6819d9bb643bdeafc17bfecb0746ae641b018fdf","modified":1581675557760},{"_id":"themes/pure/source/fonts/iconfont.ttf","hash":"9b8837f9f79cf6ab794736301d0665345183a20c","modified":1581675557763},{"_id":"themes/pure/source/fonts/iconfont.woff","hash":"78d29194287b8885d25212048c4f787705212a6e","modified":1581675557764},{"_id":"themes/pure/source/images/thumb-default.png","hash":"e8403b97ed9251f9f5207765b0ce796c5000b4ba","modified":1581675557773},{"_id":"themes/pure/source/images/xingqiu-qrcode.jpg","hash":"ef2c2848dc79db6df7c752510651ed8ba57f2daf","modified":1581675557777},{"_id":"themes/pure/source/js/application.js","hash":"46d1fb207ce5f0acb83803f927985dfcea86f9ef","modified":1581675557779},{"_id":"themes/pure/source/js/application.min.js","hash":"34d765e982c7d6360c37f82202d99f63ac40e408","modified":1581675557780},{"_id":"themes/pure/source/js/insight.js","hash":"298e8ca42517984bd26f34caa4c45560b0e909ad","modified":1581675557780},{"_id":"themes/pure/source/js/lang_select.js","hash":"f3d61d478e8f7e6d9d661e5e83fdc4450a012e67","modified":1581675557783},{"_id":"themes/pure/source/js/mobile_nav.js","hash":"f4976aef22eb1e5e06b20c7735f7d3ef29b8956e","modified":1581675557783},{"_id":"themes/pure/source/js/toc.js","hash":"d95c8db8caddf36cada66acf03a2377d28e9c107","modified":1581675557789},{"_id":"themes/pure/source/favicon.png","hash":"a7aded03761a3085e67f58b925ba855b9d56007a","modified":1581675557755},{"_id":"themes/pure/source/images/avatar.jpg","hash":"ef47c05ea65f9fea46da5b33cb227700be159d26","modified":1581675557765},{"_id":"themes/pure/source/images/wechat.jpg","hash":"a3c186e1ac6d6c6f2ecfeb085af581bd3072d9d1","modified":1581675557775},{"_id":"themes/pure/source/js/jquery.min.js","hash":"5a9dcfbef655a2668e78baebeaa8dc6f41d8dabb","modified":1581675557782},{"_id":"themes/pure/source/js/plugin.js","hash":"a8524d42b8621bfaa06602a163c6a1f82702b91d","modified":1581675557786},{"_id":"themes/pure/source/js/plugin.min.js","hash":"07fe34638f9832702c5f81d8583c5e4e8b3d9659","modified":1581675557788},{"_id":"source/_posts/设计模式/单例模式/singleton.md","hash":"4ad06e4de3814feba590fcf697dfdb182da3517b","modified":1581675557611},{"_id":"themes/pure/layout/_partial/post/category.ejs","hash":"fcee6b4aef8b6c4627831ff8dbb2d73478511426","modified":1581675557665},{"_id":"themes/pure/layout/_partial/post/comment.ejs","hash":"3c0da69fcea6ccfd97b82d50e740107a88eec5c4","modified":1581675557665},{"_id":"themes/pure/layout/_partial/post/copyright.ejs","hash":"e6de7bb76f333ebb425f5daa22bed2c749ddac99","modified":1581675557666},{"_id":"themes/pure/layout/_partial/post/date.ejs","hash":"d2b402ed2ed266034dadbf64ee1235555b241861","modified":1581675557667},{"_id":"themes/pure/layout/_partial/post/donate.ejs","hash":"a251dc34d660601a2e8b7d98b3bfe2b9023dbbce","modified":1581675557668},{"_id":"themes/pure/layout/_partial/post/gallery.ejs","hash":"3d9d81a3c693ff2378ef06ddb6810254e509de5b","modified":1581675557669},{"_id":"themes/pure/layout/_partial/post/nav.ejs","hash":"95eabc0fe4033ec61b240a16eeaf7dc62a9e3da1","modified":1581675557670},{"_id":"themes/pure/layout/_partial/post/pv.ejs","hash":"32fc1758b75d89849e46d28bb482c4f8e3781ba8","modified":1581675557671},{"_id":"themes/pure/layout/_partial/post/tag.ejs","hash":"39f53ead07f75c181a7ba93e586dd1b8171620f1","modified":1581675557672},{"_id":"themes/pure/layout/_partial/post/thumbnail.ejs","hash":"080d5c5f3e95accf51893a7092695fe32d34a087","modified":1581675557673},{"_id":"themes/pure/layout/_partial/post/title.ejs","hash":"2f275739b6f1193c123646a5a31f37d48644c667","modified":1581675557673},{"_id":"themes/pure/layout/_partial/post/wordcount.ejs","hash":"bd06c4c8449ed96aabf655fe1ae3be1f0707b81e","modified":1581675557674},{"_id":"themes/pure/layout/_script/_analytics/baidu-analytics.ejs","hash":"cb1bc57c6c6ce250bba52a0463005528347e366b","modified":1581675557684},{"_id":"themes/pure/layout/_script/_analytics/google-analytics.ejs","hash":"54f1dc9375cbdb65464e0ac1b58847aa5e8bc6a5","modified":1581675557689},{"_id":"themes/pure/layout/_script/_analytics/tencent-analytics.ejs","hash":"77defb41a1613a758ff5a6a5128c6107fc584190","modified":1581675557691},{"_id":"themes/pure/layout/_script/_comment/disqus.ejs","hash":"a051e3eddc75586e69131c29ab8c89d69626e0fd","modified":1581675557692},{"_id":"themes/pure/layout/_script/_comment/gitalk.ejs","hash":"fb01f1631c3ae7fe6211dc03233506cb344229be","modified":1581675557693},{"_id":"themes/pure/layout/_script/_comment/gitment.ejs","hash":"a64852076483395738a398deb4c10bdb0f3b7b71","modified":1581675557694},{"_id":"themes/pure/layout/_script/_comment/livere.ejs","hash":"5ab997d5ee4475d2f89f882fab4a52648dbe0e30","modified":1581675557695},{"_id":"themes/pure/layout/_script/_comment/valine.ejs","hash":"acf81f9a59dc45f197d723f70484de5fcd166577","modified":1581675557696},{"_id":"themes/pure/layout/_script/_comment/youyan.ejs","hash":"095649a173573d03b5845c2e331ec7be976b152a","modified":1581675557696},{"_id":"themes/pure/layout/_script/_search/baidu.ejs","hash":"9b60ffa2e2725a993e9cecfb81ddedd9b9361011","modified":1581675557698},{"_id":"themes/pure/layout/_script/_search/insight.ejs","hash":"3543c11d060feaf9381b5d87564b01ffef0e0a59","modified":1581675557700},{"_id":"themes/pure/source/css/_partial/archive.styl","hash":"f7ff7e9eb92f6786ccbf79bb4193a81ab8b49f8b","modified":1581675557736},{"_id":"themes/pure/source/css/_partial/base.styl","hash":"5b617c50bf4737b8e14ffdf9265b8e648d81198f","modified":1581675557737},{"_id":"themes/pure/source/css/_partial/carbonads.styl","hash":"6c75f5ea02eed9917b3eb17bfc05da3a747ec4fa","modified":1581675557738},{"_id":"themes/pure/source/css/_partial/footer.styl","hash":"437083c9be6d8f7a4854725fbaee78e3467b50c7","modified":1581675557739},{"_id":"themes/pure/source/css/_partial/header.styl","hash":"d54e6fbcbbecc580151d54ebf429cf2b91591c20","modified":1581675557741},{"_id":"themes/pure/source/css/_partial/highlight.styl","hash":"52ea72b2c65fd1cf105247ff2f41502e7e3f19ce","modified":1581675557742},{"_id":"themes/pure/source/css/_partial/index.styl","hash":"5fc130658d9200a87ec7ab33d10dfc9f29f04617","modified":1581675557743},{"_id":"themes/pure/source/css/_partial/mobile_nav.styl","hash":"855ea0469cf53cce2baf4ce9bdcc83dc79caceba","modified":1581675557744},{"_id":"themes/pure/source/css/_partial/page.styl","hash":"3ae39a6e7840f8ae2ad7af5c73ec47cfef5693ed","modified":1581675557745},{"_id":"themes/pure/source/css/_partial/plugins.styl","hash":"f4e4141eb109e177b989d680aa81c5723d9e7b1a","modified":1581675557746},{"_id":"themes/pure/source/css/_partial/post.styl","hash":"037864b22a7775df5086f8977c51d86dd7053625","modified":1581675557747},{"_id":"themes/pure/source/css/_partial/sidebar.styl","hash":"39451aef60afca98aa757eb76690a9e3e32cffbb","modified":1581675557748},{"_id":"themes/pure/source/css/style.css","hash":"ce7a0170934c11388b1dc5ab6b42bd2b55935e30","modified":1581675557752},{"_id":"themes/pure/source/css/style.min.css","hash":"1d23abc76726ebe042f7df4749f00f8f73338444","modified":1581675557753},{"_id":"themes/pure/source/fonts/iconfont.svg","hash":"25929e6e74f7027acd1f6467a67e95b153bcd8d5","modified":1581675557762},{"_id":"themes/pure/source/images/donate/alipayimg.jpg","hash":"e0ea78bf2741f3258951cc70c28bba106bb0ce21","modified":1581675557766},{"_id":"themes/pure/source/images/donate/wechatpayimg.jpg","hash":"55c52080fe70f278f2e50f91b7fdf0e69403817b","modified":1581675557767},{"_id":"themes/pure/source/images/link/SzsFox-logo.png","hash":"d71fcc73b7bc2a439d8c7ba461137856d190bd76","modified":1581675557768},{"_id":"themes/pure/source/images/link/chuangzaoshi-logo.png","hash":"7fa5734072050952159a02d330bbc008b5a99122","modified":1581675557771},{"_id":"themes/pure/source/images/link/idesign-logo.png","hash":"6b150a2dbb9912b7a7662255c27e4d4baaecee71","modified":1581675557771},{"_id":"themes/pure/source/js/plugin.js.map","hash":"1730c0cc660f863120aca0a439d7264e2e245fc5","modified":1581675557787},{"_id":"themes/pure/source/images/logo.png","hash":"a7aded03761a3085e67f58b925ba855b9d56007a","modified":1581675557773},{"_id":"source/_posts/设计模式/单例模式/singleton/test.png","hash":"ef3d7846d164b50ad2fb2dae5bcdfaf76c7e2df8","modified":1581675557614},{"_id":"public/baidusitemap.xml","hash":"1fbc1ec9701e3565b2fa84960ff39073e1dbcea9","modified":1581679667804},{"_id":"public/atom.xml","hash":"2a3322c25b30418c8808e3eb2cfb10da0c7014b9","modified":1581679667804},{"_id":"public/content.json","hash":"08da84da5fbff8dab995c63fe6fba7db96a33442","modified":1581679667804},{"_id":"public/sitemap.xml","hash":"724621e0018b2c0e06b7227e8a93d607cb9ec7b1","modified":1581679667804},{"_id":"public/about/index.html","hash":"3972921c39e91d2cd00f69708a9250b93652abad","modified":1581679667804},{"_id":"public/categories/index.html","hash":"c89674cdc2a2521f1e328712b17c26ad92735f88","modified":1581679667804},{"_id":"public/tags/index.html","hash":"7717334e1cbc2ed3ac04c1d0dc5ff52d84aa45a9","modified":1581679667804},{"_id":"public/archives/index.html","hash":"56ce50bb5fcf1c06c27a128397f189ea566a8cc7","modified":1581679667804},{"_id":"public/archives/2020/index.html","hash":"f456e2634d3fe2c2df73fa4b071512bf9542e6cc","modified":1581679667804},{"_id":"public/archives/2020/02/index.html","hash":"895951e082a3482627d5f768e062aae8fb5e0c1b","modified":1581679667804},{"_id":"public/categories/设计模式/index.html","hash":"009b7e1c75fee4dfef51dc356bc9eb77b7eca715","modified":1581679667804},{"_id":"public/tags/设计模式/index.html","hash":"a7f522179186e31f15a161472ab28b15f1bfb8b2","modified":1581679667804},{"_id":"public/2020/02/13/设计模式/单例模式/singleton/index.html","hash":"9248e1b6a91e7ad3dbb92f2fe39ecb69dcd2a20f","modified":1581679667804},{"_id":"public/index.html","hash":"adf66e1d173be1c02ba21c0bad0b69a26aa658e3","modified":1581679667804},{"_id":"public/fonts/iconfont.ttf","hash":"9b8837f9f79cf6ab794736301d0665345183a20c","modified":1581679667804},{"_id":"public/fonts/iconfont.woff","hash":"78d29194287b8885d25212048c4f787705212a6e","modified":1581679667804},{"_id":"public/images/thumb-default.png","hash":"e8403b97ed9251f9f5207765b0ce796c5000b4ba","modified":1581679667804},{"_id":"public/images/xingqiu-qrcode.jpg","hash":"ef2c2848dc79db6df7c752510651ed8ba57f2daf","modified":1581679667804},{"_id":"public/images/donate/alipayimg.jpg","hash":"e0ea78bf2741f3258951cc70c28bba106bb0ce21","modified":1581679667804},{"_id":"public/images/donate/wechatpayimg.jpg","hash":"55c52080fe70f278f2e50f91b7fdf0e69403817b","modified":1581679667804},{"_id":"public/images/link/SzsFox-logo.png","hash":"d71fcc73b7bc2a439d8c7ba461137856d190bd76","modified":1581679667804},{"_id":"public/images/link/chuangzaoshi-logo.png","hash":"7fa5734072050952159a02d330bbc008b5a99122","modified":1581679667804},{"_id":"public/images/link/idesign-logo.png","hash":"6b150a2dbb9912b7a7662255c27e4d4baaecee71","modified":1581679667804},{"_id":"public/fonts/iconfont.eot","hash":"6819d9bb643bdeafc17bfecb0746ae641b018fdf","modified":1581679667804},{"_id":"public/images/avatar.jpg","hash":"ef47c05ea65f9fea46da5b33cb227700be159d26","modified":1581679667804},{"_id":"public/images/wechat.jpg","hash":"a3c186e1ac6d6c6f2ecfeb085af581bd3072d9d1","modified":1581679667804},{"_id":"public/js/application.js","hash":"46d1fb207ce5f0acb83803f927985dfcea86f9ef","modified":1581679667804},{"_id":"public/js/application.min.js","hash":"34d765e982c7d6360c37f82202d99f63ac40e408","modified":1581679667804},{"_id":"public/js/insight.js","hash":"298e8ca42517984bd26f34caa4c45560b0e909ad","modified":1581679667804},{"_id":"public/js/lang_select.js","hash":"f3d61d478e8f7e6d9d661e5e83fdc4450a012e67","modified":1581679667804},{"_id":"public/js/mobile_nav.js","hash":"f4976aef22eb1e5e06b20c7735f7d3ef29b8956e","modified":1581679667804},{"_id":"public/js/toc.js","hash":"d95c8db8caddf36cada66acf03a2377d28e9c107","modified":1581679667804},{"_id":"public/fonts/README.html","hash":"7c1128fed284d2fb7fee743e8a739da99385b358","modified":1581679667804},{"_id":"public/css/navy.css","hash":"4c22e228b86f581c0bfc38f3674c454a455099c0","modified":1581679667804},{"_id":"public/js/plugin.min.js","hash":"07fe34638f9832702c5f81d8583c5e4e8b3d9659","modified":1581679667804},{"_id":"public/js/jquery.min.js","hash":"5a9dcfbef655a2668e78baebeaa8dc6f41d8dabb","modified":1581679667804},{"_id":"public/js/plugin.js","hash":"a8524d42b8621bfaa06602a163c6a1f82702b91d","modified":1581679667804},{"_id":"public/css/style.css","hash":"ce7a0170934c11388b1dc5ab6b42bd2b55935e30","modified":1581679667804},{"_id":"public/css/style.min.css","hash":"1d23abc76726ebe042f7df4749f00f8f73338444","modified":1581679667804},{"_id":"public/fonts/iconfont.svg","hash":"25929e6e74f7027acd1f6467a67e95b153bcd8d5","modified":1581679667804},{"_id":"public/js/plugin.js.map","hash":"1730c0cc660f863120aca0a439d7264e2e245fc5","modified":1581679667804},{"_id":"public/favicon.png","hash":"a7aded03761a3085e67f58b925ba855b9d56007a","modified":1581679667804},{"_id":"public/images/logo.png","hash":"a7aded03761a3085e67f58b925ba855b9d56007a","modified":1581679667804},{"_id":"public/2020/02/13/设计模式/单例模式/singleton/test.png","hash":"ef3d7846d164b50ad2fb2dae5bcdfaf76c7e2df8","modified":1581679667804}],"Category":[{"name":"设计模式","_id":"ck6m38j5v0004l0v0h8q75euz"}],"Data":[],"Page":[{"title":"关于","description":"个人简介","layout":"about","comments":0,"sidebar":"custom","_content":"个人详细介绍\n\n\n","source":"about/index.md","raw":"---\ntitle: 关于\ndescription: 个人简介\nlayout: about\ncomments: false\nsidebar: custom\n---\n个人详细介绍\n\n\n","date":"2020-02-14T10:19:17.615Z","updated":"2020-02-14T10:19:17.615Z","path":"about/index.html","_id":"ck6m38j2z0000l0v09i6v02p6","content":"<p>个人详细介绍</p>\n","site":{"data":{}},"excerpt":"","more":"<p>个人详细介绍</p>\n"},{"title":"分类","layout":"categories","comments":0,"sidebar":"none","date":"2018-05-30T15:48:37.000Z","_content":"","source":"categories/index.md","raw":"---\ntitle: 分类\nlayout: categories\ncomments: false\nsidebar: none\ndate: 2018-05-30 23:48:37\n---\n","updated":"2020-02-14T10:19:17.616Z","path":"categories/index.html","_id":"ck6m38j340001l0v04pt24bdw","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"标签","layout":"tags","comments":0,"sidebar":"none","_content":"","source":"tags/index.md","raw":"---\ntitle: 标签\nlayout: tags\ncomments: false\nsidebar: none\n---\n","date":"2020-02-14T10:19:17.619Z","updated":"2020-02-14T10:19:17.619Z","path":"tags/index.html","_id":"ck6m38j370002l0v0h6blfee8","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"单例模式","description":"单例模式通过Go来实现","date":"2020-02-13T04:08:40.000Z","_content":"\n![test](./test.png)\n\n单例模式是我们平常开发中用的最多设计模式之一，单例有很多级别上的，例如函数上的单例，进程上的单例，下面讲的是代码中的单例，只要了解单例的思想即可，语言知识实现工具，下面讲解如下几种类型单例模式\n\n- 饿汉模式\n- 懒汉模式\n- 懒汉模式(加锁)\n- 懒汉模式(双重检查加锁)\n- sync.Once实现\n\n\n\n相关代码如下:\n\n```go\nimport (\n\t\"fmt\"\n\t\"sync\"\n)\n\ntype SingleTon struct {\n}\n\nvar singleTon *SingleTon\n\nvar mu sync.Mutex\n\n//懒汉模式\n//还有一种饿汉式，就是一开始就初始化singleTon,实现如下\n//func init() {\n// singleTon = &SingleTon{}\n//}\nfunc NewSingleTon() *SingleTon {\n   if singleTon == nil {\n      singleTon = &SingleTon{}\n   }\n   return singleTon\n}\n\n// 懒汉加锁\nfunc NewSingleTonByLock() *SingleTon {\n   mu.Lock()\n   defer mu.Unlock()\n\n   if singleTon == nil {\n      singleTon = &SingleTon{}\n   }\n   return singleTon\n}\n\n// 懒汉加检查锁\nfunc NewSingleTonByLock2() *SingleTon {\n   if singleTon == nil {\n      mu.Lock()\n      defer mu.Unlock()\n\n      if singleTon == nil {\n         singleTon = &SingleTon{}\n      }\n   }\n   return singleTon\n}\n\n// 通过sync.Once实现\n// 看过Once包的知道，实现很简单通过加锁实现，通过done标记位来判断，运行过一次通过原子操作将done置为1\nvar once sync.Once\n\nfunc NewSingleTonByOnce() *SingleTon {\n   once.Do(func() {\n      singleTon = &SingleTon{}\n   })\n\n   return singleTon\n}\n```","source":"_posts/设计模式/单例模式/singleton.md","raw":"---\ntitle: 单例模式\ndescription: 单例模式通过Go来实现\ntags: 设计模式\ncategories: 设计模式\ndate: 2020-02-13 12:08:40\n---\n\n![test](./test.png)\n\n单例模式是我们平常开发中用的最多设计模式之一，单例有很多级别上的，例如函数上的单例，进程上的单例，下面讲的是代码中的单例，只要了解单例的思想即可，语言知识实现工具，下面讲解如下几种类型单例模式\n\n- 饿汉模式\n- 懒汉模式\n- 懒汉模式(加锁)\n- 懒汉模式(双重检查加锁)\n- sync.Once实现\n\n\n\n相关代码如下:\n\n```go\nimport (\n\t\"fmt\"\n\t\"sync\"\n)\n\ntype SingleTon struct {\n}\n\nvar singleTon *SingleTon\n\nvar mu sync.Mutex\n\n//懒汉模式\n//还有一种饿汉式，就是一开始就初始化singleTon,实现如下\n//func init() {\n// singleTon = &SingleTon{}\n//}\nfunc NewSingleTon() *SingleTon {\n   if singleTon == nil {\n      singleTon = &SingleTon{}\n   }\n   return singleTon\n}\n\n// 懒汉加锁\nfunc NewSingleTonByLock() *SingleTon {\n   mu.Lock()\n   defer mu.Unlock()\n\n   if singleTon == nil {\n      singleTon = &SingleTon{}\n   }\n   return singleTon\n}\n\n// 懒汉加检查锁\nfunc NewSingleTonByLock2() *SingleTon {\n   if singleTon == nil {\n      mu.Lock()\n      defer mu.Unlock()\n\n      if singleTon == nil {\n         singleTon = &SingleTon{}\n      }\n   }\n   return singleTon\n}\n\n// 通过sync.Once实现\n// 看过Once包的知道，实现很简单通过加锁实现，通过done标记位来判断，运行过一次通过原子操作将done置为1\nvar once sync.Once\n\nfunc NewSingleTonByOnce() *SingleTon {\n   once.Do(func() {\n      singleTon = &SingleTon{}\n   })\n\n   return singleTon\n}\n```","slug":"设计模式/单例模式/singleton","published":1,"updated":"2020-02-14T10:19:17.611Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6m38j5r0003l0v0bsf4astq","content":"<p><img src=\"./test.png\" alt=\"test\"></p>\n<p>单例模式是我们平常开发中用的最多设计模式之一，单例有很多级别上的，例如函数上的单例，进程上的单例，下面讲的是代码中的单例，只要了解单例的思想即可，语言知识实现工具，下面讲解如下几种类型单例模式</p>\n<ul>\n<li>饿汉模式</li>\n<li>懒汉模式</li>\n<li>懒汉模式(加锁)</li>\n<li>懒汉模式(双重检查加锁)</li>\n<li>sync.Once实现</li>\n</ul>\n<p>相关代码如下:</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">\t<span class=\"string\">\"fmt\"</span></span><br><span class=\"line\">\t<span class=\"string\">\"sync\"</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> SingleTon <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> singleTon *SingleTon</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> mu sync.Mutex</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//懒汉模式</span></span><br><span class=\"line\"><span class=\"comment\">//还有一种饿汉式，就是一开始就初始化singleTon,实现如下</span></span><br><span class=\"line\"><span class=\"comment\">//func init() &#123;</span></span><br><span class=\"line\"><span class=\"comment\">// singleTon = &amp;SingleTon&#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//&#125;</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewSingleTon</span><span class=\"params\">()</span> *<span class=\"title\">SingleTon</span></span> &#123;</span><br><span class=\"line\">   <span class=\"keyword\">if</span> singleTon == <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">      singleTon = &amp;SingleTon&#123;&#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> singleTon</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 懒汉加锁</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewSingleTonByLock</span><span class=\"params\">()</span> *<span class=\"title\">SingleTon</span></span> &#123;</span><br><span class=\"line\">   mu.Lock()</span><br><span class=\"line\">   <span class=\"keyword\">defer</span> mu.Unlock()</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">if</span> singleTon == <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">      singleTon = &amp;SingleTon&#123;&#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> singleTon</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 懒汉加检查锁</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewSingleTonByLock2</span><span class=\"params\">()</span> *<span class=\"title\">SingleTon</span></span> &#123;</span><br><span class=\"line\">   <span class=\"keyword\">if</span> singleTon == <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">      mu.Lock()</span><br><span class=\"line\">      <span class=\"keyword\">defer</span> mu.Unlock()</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> singleTon == <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">         singleTon = &amp;SingleTon&#123;&#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> singleTon</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 通过sync.Once实现</span></span><br><span class=\"line\"><span class=\"comment\">// 看过Once包的知道，实现很简单通过加锁实现，通过done标记位来判断，运行过一次通过原子操作将done置为1</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> once sync.Once</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewSingleTonByOnce</span><span class=\"params\">()</span> *<span class=\"title\">SingleTon</span></span> &#123;</span><br><span class=\"line\">   once.Do(<span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">      singleTon = &amp;SingleTon&#123;&#125;</span><br><span class=\"line\">   &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">return</span> singleTon</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<p><img src=\"./test.png\" alt=\"test\"></p>\n<p>单例模式是我们平常开发中用的最多设计模式之一，单例有很多级别上的，例如函数上的单例，进程上的单例，下面讲的是代码中的单例，只要了解单例的思想即可，语言知识实现工具，下面讲解如下几种类型单例模式</p>\n<ul>\n<li>饿汉模式</li>\n<li>懒汉模式</li>\n<li>懒汉模式(加锁)</li>\n<li>懒汉模式(双重检查加锁)</li>\n<li>sync.Once实现</li>\n</ul>\n<p>相关代码如下:</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">\t<span class=\"string\">\"fmt\"</span></span><br><span class=\"line\">\t<span class=\"string\">\"sync\"</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> SingleTon <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> singleTon *SingleTon</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> mu sync.Mutex</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//懒汉模式</span></span><br><span class=\"line\"><span class=\"comment\">//还有一种饿汉式，就是一开始就初始化singleTon,实现如下</span></span><br><span class=\"line\"><span class=\"comment\">//func init() &#123;</span></span><br><span class=\"line\"><span class=\"comment\">// singleTon = &amp;SingleTon&#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//&#125;</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewSingleTon</span><span class=\"params\">()</span> *<span class=\"title\">SingleTon</span></span> &#123;</span><br><span class=\"line\">   <span class=\"keyword\">if</span> singleTon == <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">      singleTon = &amp;SingleTon&#123;&#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> singleTon</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 懒汉加锁</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewSingleTonByLock</span><span class=\"params\">()</span> *<span class=\"title\">SingleTon</span></span> &#123;</span><br><span class=\"line\">   mu.Lock()</span><br><span class=\"line\">   <span class=\"keyword\">defer</span> mu.Unlock()</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">if</span> singleTon == <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">      singleTon = &amp;SingleTon&#123;&#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> singleTon</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 懒汉加检查锁</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewSingleTonByLock2</span><span class=\"params\">()</span> *<span class=\"title\">SingleTon</span></span> &#123;</span><br><span class=\"line\">   <span class=\"keyword\">if</span> singleTon == <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">      mu.Lock()</span><br><span class=\"line\">      <span class=\"keyword\">defer</span> mu.Unlock()</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> singleTon == <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">         singleTon = &amp;SingleTon&#123;&#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> singleTon</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 通过sync.Once实现</span></span><br><span class=\"line\"><span class=\"comment\">// 看过Once包的知道，实现很简单通过加锁实现，通过done标记位来判断，运行过一次通过原子操作将done置为1</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> once sync.Once</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewSingleTonByOnce</span><span class=\"params\">()</span> *<span class=\"title\">SingleTon</span></span> &#123;</span><br><span class=\"line\">   once.Do(<span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">      singleTon = &amp;SingleTon&#123;&#125;</span><br><span class=\"line\">   &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">return</span> singleTon</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"}],"PostAsset":[{"_id":"source/_posts/设计模式/单例模式/singleton/test.png","slug":"test.png","post":"ck6m38j5r0003l0v0bsf4astq","modified":0,"renderable":0}],"PostCategory":[{"post_id":"ck6m38j5r0003l0v0bsf4astq","category_id":"ck6m38j5v0004l0v0h8q75euz","_id":"ck6m38j5y0007l0v0adt6bh2d"}],"PostTag":[{"post_id":"ck6m38j5r0003l0v0bsf4astq","tag_id":"ck6m38j5x0005l0v05fl15ysh","_id":"ck6m38j5y0006l0v05fhv39f3"}],"Tag":[{"name":"设计模式","_id":"ck6m38j5x0005l0v05fl15ysh"}]}}